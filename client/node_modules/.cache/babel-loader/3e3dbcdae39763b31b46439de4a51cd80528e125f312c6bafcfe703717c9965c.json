{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BattleStation\\\\Documents\\\\School\\\\Fall 2023\\\\Software Engineering\\\\Project\\\\client\\\\src\\\\components\\\\Tables\\\\GenerateReport.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GenerateReport = () => {\n  _s();\n  const [selectedOption, setSelectedOption] = useState(\"vehicles\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [fileFormat, setFileFormat] = useState(\"csv\"); // Default to CSV\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      if (startDate === \"\") {\n        return alert(\"Please enter a start date.\");\n      }\n      if (endDate === \"\") {\n        return alert(\"Please enter a start date.\");\n      }\n      const response = await axios.get(`http://localhost:5000/${selectedOption}/${fileFormat}`, {\n        withCredentials: true,\n        params: {\n          startDate,\n          endDate\n        },\n        responseType: \"blob\" // Important for handling the file download\n      });\n\n      // Create a URL for the file\n      const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n      const fileLink = document.createElement(\"a\");\n      fileLink.href = fileURL;\n      fileLink.setAttribute(\"download\", `report.${fileFormat}`);\n      document.body.appendChild(fileLink);\n      fileLink.click();\n    } catch (error) {\n      console.error(\"Error fetching report:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Report Type:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedOption,\n        onChange: e => setSelectedOption(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"vehicles\",\n          children: \"Vehicles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"maintenance/upcoming\",\n          children: \" Upcoming Maintenance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"equipment\",\n          children: \"Equipment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"class-bcdl\",\n          children: \"Class B/C/D/L\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"damage-reports/vehicle\",\n          children: \"Damage Report - Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"damage-reports/equipment\",\n          children: \"Damage Report - Equipment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LocalInspection\",\n          children: \"Local Inspection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Maintenance\",\n          children: \"Maintenance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Start Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: startDate,\n        onChange: e => setStartDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"End Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: endDate,\n        onChange: e => setEndDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"File Format:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: fileFormat,\n        onChange: e => setFileFormat(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"csv\",\n          children: \"CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"pdf\",\n          children: \"PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Generate Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerateReport, \"+/TC5F+YGyMgVYEqE3K4NgQcfkY=\");\n_c = GenerateReport;\nexport default GenerateReport;\nvar _c;\n$RefreshReg$(_c, \"GenerateReport\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","GenerateReport","_s","selectedOption","setSelectedOption","startDate","setStartDate","endDate","setEndDate","fileFormat","setFileFormat","handleSubmit","event","preventDefault","alert","response","get","withCredentials","params","responseType","fileURL","window","URL","createObjectURL","Blob","data","fileLink","document","createElement","href","setAttribute","body","appendChild","click","error","console","onSubmit","children","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","type","_c","$RefreshReg$"],"sources":["C:/Users/BattleStation/Documents/School/Fall 2023/Software Engineering/Project/client/src/components/Tables/GenerateReport.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst GenerateReport = () => {\r\n  const [selectedOption, setSelectedOption] = useState(\"vehicles\");\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [fileFormat, setFileFormat] = useState(\"csv\"); // Default to CSV\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      if (startDate === \"\") {\r\n        return alert(\"Please enter a start date.\");\r\n      }\r\n      if (endDate === \"\") {\r\n        return alert(\"Please enter a start date.\");\r\n      }\r\n      const response = await axios.get(\r\n        `http://localhost:5000/${selectedOption}/${fileFormat}`,\r\n        {\r\n          withCredentials: true,\r\n          params: { startDate, endDate },\r\n          responseType: \"blob\", // Important for handling the file download\r\n        }\r\n      );\r\n\r\n      // Create a URL for the file\r\n      const fileURL = window.URL.createObjectURL(new Blob([response.data]));\r\n      const fileLink = document.createElement(\"a\");\r\n      fileLink.href = fileURL;\r\n      fileLink.setAttribute(\"download\", `report.${fileFormat}`);\r\n      document.body.appendChild(fileLink);\r\n\r\n      fileLink.click();\r\n    } catch (error) {\r\n      console.error(\"Error fetching report:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        Report Type:\r\n        <select\r\n          value={selectedOption}\r\n          onChange={(e) => setSelectedOption(e.target.value)}\r\n        >\r\n          <option value=\"vehicles\">Vehicles</option>\r\n          <option value=\"maintenance/upcoming\"> Upcoming Maintenance</option>\r\n          <option value=\"equipment\">Equipment</option>\r\n          <option value=\"class-bcdl\">Class B/C/D/L</option>\r\n          <option value=\"damage-reports/vehicle\">\r\n            Damage Report - Vehicle\r\n          </option>\r\n          <option value=\"damage-reports/equipment\">\r\n            Damage Report - Equipment\r\n          </option>\r\n          <option value=\"LocalInspection\">Local Inspection</option>\r\n          <option value=\"Maintenance\">Maintenance</option>\r\n        </select>\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Start Date:\r\n        <input\r\n          type=\"date\"\r\n          value={startDate}\r\n          onChange={(e) => setStartDate(e.target.value)}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        End Date:\r\n        <input\r\n          type=\"date\"\r\n          value={endDate}\r\n          onChange={(e) => setEndDate(e.target.value)}\r\n        />\r\n      </label>\r\n      <br></br>\r\n      <label>\r\n        File Format:\r\n        <select\r\n          value={fileFormat}\r\n          onChange={(e) => setFileFormat(e.target.value)}\r\n        >\r\n          <option value=\"csv\">CSV</option>\r\n          <option value=\"pdf\">PDF</option>\r\n        </select>\r\n      </label>\r\n      <br />\r\n      <button type=\"submit\">Generate Report</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default GenerateReport;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}